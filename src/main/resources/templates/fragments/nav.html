<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec = "http://www.thymeleaf.org/extras/spring-security">
<body>
<div class="row bg-secondary p-2" th:fragment="nav">
    <div class="col-lg-12">
        <ul class="nav">
            <li class="nav-item" sec:authorize="isAuthenticated()">
                <a class="nav-link text-white" th:href="@{'/'}" th:text="#{label.all_students}"></a>
            </li>
            <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                <a class="nav-link text-white" href="#" data-bs-toggle="modal" data-bs-target="#addStudent"
                   th:text="#{label.add_student}"></a>
            </li>
            <li class="nav-item" sec:authorize="isAuthenticated()">
                <a class="nav-link text-white" th:href="@{'/cities'}">Cities</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="?lng=kz">KZ</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="?lng=ru">RU</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="?lng=en">ENG</a>
            </li>
            <li class="nav-item" sec:authorize="isAnonymous()">
                <a class="nav-link text-white" th:href="@{'/login'}">Login</a>
            </li>
            <li class="nav-item" sec:authorize="isAnonymous()">
                <a class="nav-link text-white" th:href="@{'/register'}">Sign up</a>
            </li>
            <li class="nav-item" sec:authorize="isAuthenticated()">
                <a class="nav-link text-white" th:href="@{'/profile'}" th:text="${currentUser.name}"></a>
            </li>
            <li class="nav-item" sec:authorize="isAuthenticated()">
                <a class="nav-link text-white" href="JavaScript:void(0)" onclick="document.getElementById('logoutForm').submit()">Logout</a>
            </li>
            <form th:action="@{'/logout'}" method="post" id="logoutForm" sec:authorize="isAuthenticated()"></form>
        </ul>
    </div>
</div>
</body>
</html>